# æ¶ˆé™¤é­”æ³•æ•°å­— (Magic Numbers) ä¼˜åŒ–æ–¹æ¡ˆ

> æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº† Business Reviews ç³»ç»Ÿä¸­é­”æ³•æ•°å­—çš„æ¶ˆé™¤æ–¹æ¡ˆï¼Œé€šè¿‡æšä¸¾å¸¸é‡æé«˜ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

## ğŸ“‹ ç›®å½•

1. [é—®é¢˜èƒŒæ™¯](#é—®é¢˜èƒŒæ™¯)
2. [æŠ€æœ¯åˆ†æ](#æŠ€æœ¯åˆ†æ)
3. [è§£å†³æ–¹æ¡ˆ](#è§£å†³æ–¹æ¡ˆ)
4. [æšä¸¾è®¾è®¡è¯¦è§£](#æšä¸¾è®¾è®¡è¯¦è§£)
5. [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
6. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
7. [é‡æ„æ¸…å•](#é‡æ„æ¸…å•)
8. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## é—®é¢˜èƒŒæ™¯

### ä»€ä¹ˆæ˜¯é­”æ³•æ•°å­—ï¼Ÿ

é­”æ³•æ•°å­—ï¼ˆMagic Numbersï¼‰æ˜¯æŒ‡ä»£ç ä¸­ç›´æ¥ä½¿ç”¨çš„ã€å«ä¹‰ä¸æ˜ç¡®çš„ç¡¬ç¼–ç æ•°å€¼ã€‚åœ¨ä¸šåŠ¡ä»£ç ä¸­ï¼Œè¿™äº›æ•°å­—é€šå¸¸ä»£è¡¨çŠ¶æ€ã€ç±»å‹ã€ç­‰çº§ç­‰ä¸šåŠ¡å«ä¹‰ï¼Œä½†ä»£ç æœ¬èº«æ— æ³•è‡ªè§£é‡Šã€‚

```java
// âŒ å…¸å‹çš„é­”æ³•æ•°å­—é—®é¢˜
note.setStatus(1);      // 1 æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæ­£å¸¸ï¼Ÿåˆ é™¤ï¼Ÿå®¡æ ¸ä¸­ï¼Ÿ
note.setNoteType(2);    // 2 ä»£è¡¨ä»€ä¹ˆç±»å‹ï¼Ÿ
user.setStatus(0);      // 0 æ˜¯ç¦ç”¨è¿˜æ˜¯åˆ é™¤ï¼Ÿ
```

### å…¸å‹é—®é¢˜åœºæ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åœºæ™¯ï¼šæ–°äººæ¥æ‰‹é¡¹ç›®ä»£ç                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Day 1: é˜…è¯»ä»£ç 
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»£ç ç‰‡æ®µï¼š                                                           â”‚
â”‚                                                                      â”‚
â”‚ if (note.getStatus() == 1) {                                        â”‚
â”‚     // ä»€ä¹ˆæƒ…å†µï¼Ÿ                                                    â”‚
â”‚ } else if (note.getStatus() == 2) {                                 â”‚
â”‚     // åˆæ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ                                                â”‚
â”‚ }                                                                    â”‚
â”‚                                                                      â”‚
â”‚ æ–°äººç–‘é—®ï¼š                                                           â”‚
â”‚ - 1 å’Œ 2 åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆçŠ¶æ€ï¼Ÿ                                          â”‚
â”‚ - è¿˜æœ‰å…¶ä»–çŠ¶æ€å—ï¼Ÿ0 æ˜¯ä»€ä¹ˆï¼Ÿ3 å‘¢ï¼Ÿ                                    â”‚
â”‚ - éœ€è¦ç¿»éæ•´ä¸ªé¡¹ç›®æ‰èƒ½ç†è§£...                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æšä¸¾
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¼˜åŒ–åï¼š                                                             â”‚
â”‚                                                                      â”‚
â”‚ if (note.getStatus() == NoteStatus.NORMAL.getCode()) {              â”‚
â”‚     // æ­£å¸¸/å·²å‘å¸ƒçŠ¶æ€                                               â”‚
â”‚ } else if (note.getStatus() == NoteStatus.HIDDEN.getCode()) {       â”‚
â”‚     // éšè—/å·²ä¸‹çº¿çŠ¶æ€                                               â”‚
â”‚ }                                                                    â”‚
â”‚                                                                      â”‚
â”‚ âœ… ä»£ç è‡ªè§£é‡Šï¼Œæ— éœ€é¢å¤–æ³¨é‡Š                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é—®é¢˜å½±å“

| å½±å“èŒƒå›´ | æè¿° |
|----------|------|
| ğŸ”´ **å¯è¯»æ€§å·®** | ä»£ç å«ä¹‰ä¸æ˜ç¡®ï¼Œéœ€è¦æŸ¥é˜…æ–‡æ¡£æˆ–æ•°æ®åº“ |
| ğŸ”´ **ç»´æŠ¤å›°éš¾** | ä¿®æ”¹çŠ¶æ€å€¼æ—¶éœ€è¦å…¨å±€æœç´¢æ›¿æ¢ |
| ğŸŸ¡ **æ˜“å‡ºé”™** | æ‹¼å†™é”™è¯¯ï¼ˆå¦‚æŠŠ 1 å†™æˆ 11ï¼‰éš¾ä»¥å‘ç° |
| ğŸŸ¡ **ç¼ºä¹æ ¡éªŒ** | æ— æ³•åœ¨ç¼–è¯‘æœŸæ£€æµ‹éæ³•çŠ¶æ€å€¼ |
| ğŸŸ¡ **æ–‡æ¡£ç¼ºå¤±** | æ‰€æœ‰çŠ¶æ€å€¼åªå­˜åœ¨äºå¼€å‘è€…è„‘ä¸­ |

---

## æŠ€æœ¯åˆ†æ

### çŠ¶æ€å€¼åˆ†å¸ƒåˆ†æ

åœ¨é‡æ„å‰ï¼Œé¡¹ç›®ä¸­è¯†åˆ«å‡ºä»¥ä¸‹ç¡¬ç¼–ç æ•°å€¼ï¼š

| æ•°å€¼ | ä½¿ç”¨åœºæ™¯ | ä¸šåŠ¡å«ä¹‰ |
|------|----------|----------|
| `0` | ç¬”è®°çŠ¶æ€ | å·²åˆ é™¤ |
| `1` | ç¬”è®°çŠ¶æ€ã€ç”¨æˆ·çŠ¶æ€ã€å•†å®¶çŠ¶æ€ | æ­£å¸¸/å¯ç”¨ |
| `2` | ç¬”è®°çŠ¶æ€ã€ç¬”è®°ç±»å‹ | éšè—/å•†å®¶ç¬”è®° |
| `1` | ä¼˜æƒ åˆ¸çŠ¶æ€ã€ç”¨æˆ·ä¼˜æƒ åˆ¸çŠ¶æ€ | å¯ç”¨/æœªä½¿ç”¨ |
| `2` | ç”¨æˆ·ä¼˜æƒ åˆ¸çŠ¶æ€ | å·²ä½¿ç”¨ |
| `3` | ç”¨æˆ·ä¼˜æƒ åˆ¸çŠ¶æ€ | å·²è¿‡æœŸ |

### ä¸ºä»€ä¹ˆä½¿ç”¨æšä¸¾ï¼Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æšä¸¾ vs å¸¸é‡ç±»                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ–¹æ¡ˆ Aï¼šä½¿ç”¨å¸¸é‡ç±»
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
public class NoteStatusConstants {
    public static final int DELETED = 0;
    public static final int NORMAL = 1;
    public static final int HIDDEN = 2;
}

âŒ é—®é¢˜ï¼šæ— æ³•é™åˆ¶å–å€¼èŒƒå›´ï¼Œä»»ä½• int éƒ½å¯ä»¥ä¼ å…¥

æ–¹æ¡ˆ Bï¼šä½¿ç”¨æšä¸¾ï¼ˆæ¨èï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
public enum NoteStatus {
    DELETED(0, "å·²åˆ é™¤"),
    NORMAL(1, "æ­£å¸¸"),
    HIDDEN(2, "éšè—");
    
    private final int code;
    private final String description;
}

âœ… ä¼˜ç‚¹ï¼š
- ç±»å‹å®‰å…¨ï¼Œç¼–è¯‘æœŸæ£€æŸ¥
- å¯é™„åŠ æè¿°ã€æ–¹æ³•ç­‰å…ƒä¿¡æ¯
- IDE è‡ªåŠ¨è¡¥å…¨ï¼Œå‡å°‘æ‹¼å†™é”™è¯¯
- æ‰€æœ‰çŠ¶æ€å€¼é›†ä¸­å®šä¹‰ï¼Œä¾¿äºç»´æŠ¤
```

---

## è§£å†³æ–¹æ¡ˆ

### æ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       æšä¸¾å¸¸é‡æ¶æ„                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   com.businessreviews     â”‚
                    â”‚        .enums             â”‚
                    â”‚                           â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚    NoteStatus       â”‚  â”‚
                    â”‚  â”‚    NoteType         â”‚  â”‚
                    â”‚  â”‚    UserStatus       â”‚  â”‚
                    â”‚  â”‚    CommentStatus    â”‚  â”‚
                    â”‚  â”‚    MerchantStatus   â”‚  â”‚
                    â”‚  â”‚    CouponStatus     â”‚  â”‚
                    â”‚  â”‚    UserCouponStatus â”‚  â”‚
                    â”‚  â”‚    TopicStatus      â”‚  â”‚
                    â”‚  â”‚    ReviewStatus     â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â–¼                   â–¼                   â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   Serviceå±‚   â”‚   â”‚  Controllerå±‚  â”‚   â”‚   Listenerå±‚  â”‚
     â”‚               â”‚   â”‚               â”‚   â”‚               â”‚
     â”‚ ä½¿ç”¨æšä¸¾è®¾ç½®   â”‚   â”‚ ä½¿ç”¨æšä¸¾è®¾ç½®   â”‚   â”‚ ä½¿ç”¨æšä¸¾è®¾ç½®   â”‚
     â”‚ çŠ¶æ€ã€ç±»å‹ç­‰   â”‚   â”‚ çŠ¶æ€ã€ç±»å‹ç­‰   â”‚   â”‚ çŠ¶æ€ã€ç±»å‹ç­‰   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æšä¸¾è®¾è®¡è¯¦è§£

### åŸºç¡€æšä¸¾æ¨¡æ¿

```java
package com.businessreviews.enums;

import lombok.AllArgsConstructor;
import lombok.Getter;

/**
 * ç¬”è®°çŠ¶æ€æšä¸¾
 */
@Getter
@AllArgsConstructor
public enum NoteStatus {

    DELETED(0, "å·²åˆ é™¤"),
    NORMAL(1, "æ­£å¸¸/å·²å‘å¸ƒ"),
    HIDDEN(2, "éšè—/å·²ä¸‹çº¿");

    /** çŠ¶æ€ç ï¼ˆä¸æ•°æ®åº“å­—æ®µå¯¹åº”ï¼‰ */
    private final int code;
    
    /** çŠ¶æ€æè¿°ï¼ˆç”¨äºæ—¥å¿—ã€å±•ç¤ºç­‰ï¼‰ */
    private final String description;

    /**
     * æ ¹æ®çŠ¶æ€ç è·å–æšä¸¾
     * @param code çŠ¶æ€ç 
     * @return å¯¹åº”çš„æšä¸¾ï¼Œæ‰¾ä¸åˆ°è¿”å› null
     */
    public static NoteStatus fromCode(int code) {
        for (NoteStatus status : values()) {
            if (status.code == code) {
                return status;
            }
        }
        return null;
    }
}
```

### æ–°å¢æšä¸¾æ¸…å•

| æšä¸¾ç±» | åŒ…è·¯å¾„ | è¯´æ˜ |
|--------|--------|------|
| `NoteType` | `com.businessreviews.enums` | ç¬”è®°ç±»å‹ï¼ˆç”¨æˆ·ç¬”è®°/å•†å®¶ç¬”è®°ï¼‰ |
| `CouponStatus` | `com.businessreviews.enums` | ä¼˜æƒ åˆ¸çŠ¶æ€ï¼ˆç¦ç”¨/å¯ç”¨/è¿‡æœŸï¼‰ |
| `UserCouponStatus` | `com.businessreviews.enums` | ç”¨æˆ·ä¼˜æƒ åˆ¸çŠ¶æ€ï¼ˆæœªä½¿ç”¨/å·²ä½¿ç”¨/å·²è¿‡æœŸï¼‰ |
| `MerchantStatus` | `com.businessreviews.enums` | å•†å®¶çŠ¶æ€ï¼ˆç¦ç”¨/æ­£å¸¸/å¾…å®¡æ ¸ï¼‰ |
| `TopicStatus` | `com.businessreviews.enums` | è¯é¢˜çŠ¶æ€ï¼ˆç¦ç”¨/æ­£å¸¸ï¼‰ |
| `ReviewStatus` | `com.businessreviews.enums` | è¯„ä»·çŠ¶æ€ï¼ˆåˆ é™¤/æ­£å¸¸/éšè—ï¼‰ |

### æ›´æ–°å·²æœ‰æšä¸¾

| æšä¸¾ç±» | å˜æ›´å†…å®¹ |
|--------|----------|
| `NoteStatus` | æ–°å¢ `DELETED(0)` çŠ¶æ€ |
| `CommentStatus` | æ–°å¢ `DELETED(0)` çŠ¶æ€ |

---

## ä½¿ç”¨æŒ‡å—

### è®¾ç½®çŠ¶æ€å€¼

```java
// âŒ ä¹‹å‰çš„å†™æ³•ï¼ˆé­”æ³•æ•°å­—ï¼‰
note.setStatus(1);
note.setNoteType(2);

// âœ… ç°åœ¨çš„å†™æ³•ï¼ˆæšä¸¾å¸¸é‡ï¼‰
note.setStatus(NoteStatus.NORMAL.getCode());
note.setNoteType(NoteType.MERCHANT.getCode());
```

### åˆ¤æ–­çŠ¶æ€å€¼

```java
// âŒ ä¹‹å‰çš„å†™æ³•
if (note.getStatus() == 1) {
    // ...
}

// âœ… ç°åœ¨çš„å†™æ³• - æ–¹å¼ 1ï¼šç›´æ¥æ¯”è¾ƒ
if (note.getStatus() == NoteStatus.NORMAL.getCode()) {
    // ...
}

// âœ… ç°åœ¨çš„å†™æ³• - æ–¹å¼ 2ï¼šè½¬æ¢ä¸ºæšä¸¾
NoteStatus status = NoteStatus.fromCode(note.getStatus());
if (status == NoteStatus.NORMAL) {
    // ...
}
```

### åœ¨ MyBatis æŸ¥è¯¢ä¸­ä½¿ç”¨

```java
// æŸ¥è¯¢æ¡ä»¶ä¸­ä½¿ç”¨æšä¸¾
LambdaQueryWrapper<NoteDO> wrapper = new LambdaQueryWrapper<>();
wrapper.eq(NoteDO::getStatus, NoteStatus.NORMAL.getCode());
wrapper.eq(NoteDO::getNoteType, NoteType.USER.getCode());
```

### æ—¥å¿—è¾“å‡º

```java
log.info("ç¬”è®°çŠ¶æ€æ›´æ–°: noteId={}, newStatus={}", 
    noteId, 
    NoteStatus.fromCode(note.getStatus()).getDescription());
```

---

## æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

```java
// 1. ä½¿ç”¨æšä¸¾çš„ getCode() æ–¹æ³•è·å–æ•°å€¼
note.setStatus(NoteStatus.NORMAL.getCode());

// 2. çŠ¶æ€åˆ¤æ–­æ—¶ä½¿ç”¨æšä¸¾å¸¸é‡
if (status == NoteStatus.HIDDEN.getCode()) { ... }

// 3. æ—¥å¿—ä¸­ä½¿ç”¨æšä¸¾æè¿°
log.info("çŠ¶æ€: {}", NoteStatus.NORMAL.getDescription());

// 4. åœ¨ VO/DTO ä¸­æä¾›çŠ¶æ€æè¿°å­—æ®µ
public String getStatusText() {
    NoteStatus status = NoteStatus.fromCode(this.status);
    return status != null ? status.getDescription() : "æœªçŸ¥";
}
```

### âŒ é¿å…çš„åšæ³•

```java
// 1. ä¸è¦ç»§ç»­ä½¿ç”¨ç¡¬ç¼–ç æ•°å­—
note.setStatus(1);  // âŒ åº”è¯¥ç”¨ NoteStatus.NORMAL.getCode()

// 2. ä¸è¦åœ¨å¤šå¤„å®šä¹‰ç›¸åŒçš„å¸¸é‡
private static final int STATUS_NORMAL = 1;  // âŒ åº”è¯¥ä½¿ç”¨æšä¸¾

// 3. ä¸è¦åœ¨æ³¨é‡Šä¸­è§£é‡Šé­”æ³•æ•°å­—
note.setStatus(1); // 1=æ­£å¸¸  âŒ åº”è¯¥è®©ä»£ç è‡ªè§£é‡Š
```

---

## é‡æ„æ¸…å•

### å·²é‡æ„çš„ Service ç±»

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
|------|----------|
| `NoteServiceImpl.java` | ç¬”è®°çŠ¶æ€ã€ç±»å‹è®¾ç½® |
| `CommentServiceImpl.java` | è¯„è®ºçŠ¶æ€è®¾ç½® |
| `AuthServiceImpl.java` | ç”¨æˆ·çŠ¶æ€è®¾ç½® |
| `UserServiceImpl.java` | ç”¨æˆ·çŠ¶æ€è®¾ç½® |
| `MerchantAuthServiceImpl.java` | å•†å®¶çŠ¶æ€è®¾ç½® |
| `MerchantShopServiceImpl.java` | åº—é“ºçŠ¶æ€è®¾ç½® |
| `MerchantNoteServiceImpl.java` | å•†å®¶ç¬”è®°çŠ¶æ€ã€ç±»å‹ã€ç”¨æˆ·çŠ¶æ€è®¾ç½® |
| `MerchantCouponServiceImpl.java` | ä¼˜æƒ åˆ¸çŠ¶æ€è®¾ç½® |
| `AuditEventListener.java` | å®¡æ ¸ç»“æœçŠ¶æ€è®¾ç½® |

### å·²é‡æ„çš„ Controller ç±»

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
|------|----------|
| `CouponController.java` | ç”¨æˆ·ä¼˜æƒ åˆ¸çŠ¶æ€è®¾ç½® |
| `SeckillController.java` | ç§’æ€åˆ¸çŠ¶æ€è®¾ç½® |

---

## å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“ä¸­å·²æœ‰çš„æ•°æ®æ€ä¹ˆåŠï¼Ÿ

```
æ•°æ®åº“ä¸­å­˜å‚¨çš„æ˜¯æ•°å€¼ï¼ˆå¦‚ status = 1ï¼‰ï¼Œæšä¸¾åªæ˜¯åœ¨ä»£ç å±‚é¢æä¾›è¯­ä¹‰åŒ–å°è£…ã€‚
ä¸éœ€è¦ä¿®æ”¹æ•°æ®åº“ï¼Œæšä¸¾çš„ code å€¼ä¸æ•°æ®åº“å­—æ®µå€¼å®Œå…¨å¯¹åº”ã€‚
```

### 2. å‰ç«¯ä¼ é€’çš„è¿˜æ˜¯æ•°å­—æ€ä¹ˆå¤„ç†ï¼Ÿ

```java
// Controller æ¥æ”¶æ•°å­—åï¼Œå†…éƒ¨ä½¿ç”¨æšä¸¾
@PostMapping("/notes")
public Result<Void> createNote(@RequestBody NoteDTO dto) {
    NoteStatus status = NoteStatus.fromCode(dto.getStatus());
    if (status == null) {
        throw new BusinessException(40001, "æ— æ•ˆçš„çŠ¶æ€å€¼");
    }
    // ä½¿ç”¨æšä¸¾è¿›è¡Œä¸šåŠ¡é€»è¾‘
}
```

### 3. å¦‚ä½•æ–°å¢çŠ¶æ€å€¼ï¼Ÿ

```java
// åªéœ€åœ¨æšä¸¾ä¸­æ·»åŠ æ–°çš„å¸¸é‡
public enum NoteStatus {
    DELETED(0, "å·²åˆ é™¤"),
    NORMAL(1, "æ­£å¸¸/å·²å‘å¸ƒ"),
    HIDDEN(2, "éšè—/å·²ä¸‹çº¿"),
    PENDING(3, "å®¡æ ¸ä¸­");  // æ–°å¢çŠ¶æ€
    
    // ...
}
```

### 4. æšä¸¾å’Œæ•°æ®åº“å­—æ®µç±»å‹ä¸åŒ¹é…ï¼Ÿ

```java
// æ•°æ®åº“å­—æ®µæ˜¯ TINYINTï¼Œæšä¸¾ code æ˜¯ int
// Java ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ï¼Œæ— éœ€é¢å¤–å¤„ç†

// å¦‚æœéœ€è¦å¼ºåˆ¶ç±»å‹ï¼Œå¯ä»¥ï¼š
note.setStatus((byte) NoteStatus.NORMAL.getCode());
```

---

## æ€»ç»“

é€šè¿‡æœ¬æ¬¡é‡æ„ï¼Œæˆ‘ä»¬å®ç°äº†é­”æ³•æ•°å­—çš„å…¨é¢æ¶ˆé™¤ï¼š

| ç›®æ ‡ | å®ç°æ•ˆæœ |
|------|----------|
| ä»£ç è‡ªè§£é‡Š | çŠ¶æ€å€¼å«ä¹‰ä¸€ç›®äº†ç„¶ |
| é›†ä¸­ç®¡ç† | æ‰€æœ‰çŠ¶æ€å€¼å®šä¹‰åœ¨æšä¸¾ç±»ä¸­ |
| ç±»å‹å®‰å…¨ | ç¼–è¯‘æœŸå¯æ£€æµ‹éæ³•å€¼ |
| ç»´æŠ¤ä¾¿æ· | ä¿®æ”¹çŠ¶æ€åªéœ€æ”¹æšä¸¾å®šä¹‰ |
| æ–‡æ¡£åŒ– | æšä¸¾è‡ªå¸¦æè¿°ä¿¡æ¯ |

è¿™å¥—æ–¹æ¡ˆä½¿ä»£ç æ›´åŠ æ¸…æ™°æ˜“è¯»ï¼Œå¤§å¹…é™ä½äº†æ–°äººä¸Šæ‰‹æˆæœ¬å’Œæ—¥å¸¸ç»´æŠ¤éš¾åº¦ã€‚
