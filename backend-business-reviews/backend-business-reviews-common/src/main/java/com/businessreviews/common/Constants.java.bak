package com.businessreviews.common;

import lombok.Getter;

/**
 * 系统常量类 - 使用枚举实现
 */
public class Constants {
    
    /**
     * 验证码类型枚举
     */
    @Getter
    public enum CodeType {
        /** 登录 */
        LOGIN(1, "登录"),
        /** 注册 */
        REGISTER(2, "注册"),
        /** 重置密码 */
        RESET_PASSWORD(3, "重置密码"),
        /** 修改手机号-验证原手机 */
        CHANGE_PHONE_OLD(4, "修改手机号-验证原手机"),
        /** 修改手机号-验证新手机 */
        CHANGE_PHONE_NEW(5, "修改手机号-验证新手机");
        
        private final int code;
        private final String desc;
        
        CodeType(int code, String desc) {
            this.code = code;
            this.desc = desc;
        }
    }
    
    /**
     * 用户状态枚举
     */
    @Getter
    public enum UserStatus {
        /** 正常 */
        NORMAL(1, "正常"),
        /** 禁用 */
        DISABLED(2, "禁用");
        
        private final int code;
        private final String desc;
        
        UserStatus(int code, String desc) {
            this.code = code;
            this.desc = desc;
        }
    }
    
    /**
     * 性别枚举
     */
    @Getter
    public enum Gender {
        /** 未知 */
        UNKNOWN(0, "未知"),
        /** 男 */
        MALE(1, "男"),
        /** 女 */
        FEMALE(2, "女");
        
        private final int code;
        private final String desc;
        
        Gender(int code, String desc) {
            this.code = code;
            this.desc = desc;
        }
    }
    
    /**
     * 商家状态枚举
     */
    @Getter
    public enum ShopStatus {
        /** 营业中 */
        OPEN(1, "营业中"),
        /** 休息中 */
        REST(2, "休息中"),
        /** 已关闭 */
        CLOSED(3, "已关闭");
        
        private final int code;
        private final String desc;
        
        ShopStatus(int code, String desc) {
            this.code = code;
            this.desc = desc;
        }
    }
    
    /**
     * 笔记状态枚举
     */
    @Getter
    public enum NoteStatus {
        /** 正常 */
        NORMAL(1, "正常"),
        /** 隐藏 */
        HIDDEN(2, "隐藏"),
        /** 审核中 */
        PENDING(3, "审核中");
        
        private final int code;
        private final String desc;
        
        NoteStatus(int code, String desc) {
            this.code = code;
            this.desc = desc;
        }
    }
    
    /**
     * 评论状态枚举
     */
    @Getter
    public enum CommentStatus {
        /** 正常 */
        NORMAL(1, "正常"),
        /** 隐藏 */
        HIDDEN(2, "隐藏");
        
        private final int code;
        private final String desc;
        
        CommentStatus(int code, String desc) {
            this.code = code;
            this.desc = desc;
        }
    }
    
    /**
     * 消息类型枚举
     */
    @Getter
    public enum MessageType {
        /** 文本 */
        TEXT(1, "文本"),
        /** 图片 */
        IMAGE(2, "图片"),
        /** 语音 */
        VOICE(3, "语音");
        
        private final int code;
        private final String desc;
        
        MessageType(int code, String desc) {
            this.code = code;
            this.desc = desc;
        }
    }
    
    /**
     * 通知类型枚举
     */
    @Getter
    public enum NoticeType {
        /** 点赞笔记 */
        LIKE_NOTE(1, "点赞笔记"),
        /** 评论笔记 */
        COMMENT_NOTE(2, "评论笔记"),
        /** 关注 */
        FOLLOW(3, "关注"),
        /** 点赞评论 */
        LIKE_COMMENT(4, "点赞评论");
        
        private final int code;
        private final String desc;
        
        NoticeType(int code, String desc) {
            this.code = code;
            this.desc = desc;
        }
    }
    
    /**
     * 浏览目标类型枚举
     */
    @Getter
    public enum BrowseTargetType {
        /** 笔记 */
        NOTE(1, "笔记"),
        /** 商家 */
        SHOP(2, "商家");
        
        private final int code;
        private final String desc;
        
        BrowseTargetType(int code, String desc) {
            this.code = code;
            this.desc = desc;
        }
    }
    
    /**
     * 收藏类型枚举
     */
    @Getter
    public enum FavoriteType {
        /** 笔记 */
        NOTE(1, "笔记"),
        /** 商家 */
        SHOP(2, "商家");
        
        private final int code;
        private final String desc;
        
        FavoriteType(int code, String desc) {
            this.code = code;
            this.desc = desc;
        }
    }
    
    /**
     * 短信验证码配置
     */
    public static class SmsCode {
        /** 验证码有效期（秒）：5分钟 */
        public static final long EXPIRE_TIME = 300;
        /** 发送频率限制（秒）：10秒 (开发环境临时调低) */
        public static final long LIMIT_TIME = 10;
    }
    
    /**
     * Redis Key前缀
     */
    public static class RedisKey {
        /** 短信验证码 */
        public static final String SMS_CODE = "sms:code:";
        /** 短信发送频率限制 */
        public static final String SMS_LIMIT = "sms:limit:";
        /** 修改手机号次数限制(24小时内) */
        public static final String CHANGE_PHONE_LIMIT = "user:change:phone:limit:";
        /** Token黑名单 */
        public static final String TOKEN_BLACKLIST = "token:blacklist:";
        /** 用户信息缓存 */
        public static final String USER_INFO = "user:info:";
        /** 用户点赞笔记集合 */
        public static final String USER_NOTE_LIKES = "user:note:likes:";
        /** 用户收藏笔记集合 */
        public static final String USER_NOTE_BOOKMARKS = "user:note:bookmarks:";
        /** 用户点赞评论集合 */
        public static final String USER_COMMENT_LIKES = "user:comment:likes:";
        /** 商家信息缓存 */
        public static final String SHOP_INFO = "shop:info:";
        /** 分类列表缓存 */
        public static final String CATEGORIES = "categories:all";
        /** 推荐笔记缓存 */
        public static final String NOTES_RECOMMENDED = "notes:recommended:page:";
        /** 热门搜索词 */
        public static final String HOT_SEARCHES = "search:hot";
        /** 热门话题 */
        public static final String HOT_TOPICS = "topics:hot";
    }
    
    /**
     * 缓存过期时间（秒）
     */
    public static class CacheExpire {
        /** 短信验证码有效期：5分钟 */
        public static final long SMS_CODE = 300;
        /** 短信发送频率限制：10秒 (开发环境临时调低) */
        public static final long SMS_LIMIT = 10;
        /** 用户信息缓存：30分钟 */
        public static final long USER_INFO = 1800;
        /** 商家信息缓存：1小时 */
        public static final long SHOP_INFO = 3600;
        /** 分类列表缓存：1天 */
        public static final long CATEGORIES = 86400;
        /** 推荐笔记缓存：5分钟 */
        public static final long NOTES_RECOMMENDED = 300;
        /** 热门搜索词缓存：1小时 */
        public static final long HOT_SEARCH = 3600;
    }
    
    /**
     * 错误码枚举
     */
    @Getter
    public enum ErrorCode {
        /** 手机号格式错误 */
        PHONE_FORMAT_ERROR(40001, "手机号格式错误"),
        /** 验证码错误或已过期 */
        CODE_ERROR(40002, "验证码错误或已过期"),
        /** 用户不存在 */
        USER_NOT_FOUND(40003, "用户不存在"),
        /** 参数缺失 */
        PARAM_MISSING(40004, "参数缺失"),
        /** 操作过于频繁 */
        TOO_FREQUENT(40005, "操作过于频繁"),
        /** 未登录 */
        UNAUTHORIZED(40101, "未登录"),
        /** Token已过期 */
        TOKEN_EXPIRED(40102, "Token已过期"),
        /** Token无效 */
        TOKEN_INVALID(40103, "Token无效"),
        /** 无权限操作 */
        FORBIDDEN(40301, "无权限操作"),
        /** 资源不存在 */
        NOT_FOUND(40401, "资源不存在"),
        /** 笔记不存在 */
        NOTE_NOT_FOUND(40402, "笔记不存在"),
        /** 商家不存在 */
        SHOP_NOT_FOUND(40403, "商家不存在"),
        /** 服务器内部错误 */
        SERVER_ERROR(50001, "服务器内部错误"),
        /** 数据库错误 */
        DB_ERROR(50002, "数据库错误");
        
        private final int code;
        private final String message;
        
        ErrorCode(int code, String message) {
            this.code = code;
            this.message = message;
        }
    }
    
    /**
     * 分页默认值
     */
    public static class Page {
        /** 默认页码 */
        public static final int DEFAULT_PAGE_NUM = 1;
        /** 默认每页数量 */
        public static final int DEFAULT_PAGE_SIZE = 10;
        /** 最大每页数量 */
        public static final int MAX_PAGE_SIZE = 50;
    }
}
