# 数据库表结构设计

## 项目：美食点评系统（商业点评平台）

---

## 数据库概述

**数据库名称：** `business_reviews`

**字符集：** `utf8mb4`

**排序规则：** `utf8mb4_unicode_ci`

---

## 表结构设计

### 1. 用户表 (users)

存储用户基本信息

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 用户ID（主键） |
| phone | VARCHAR | 20 | NOT NULL | - | 手机号（唯一） |
| username | VARCHAR | 50 | NOT NULL | - | 用户名 |
| avatar | VARCHAR | 500 | NULL | - | 头像URL |
| bio | VARCHAR | 200 | NULL | - | 个人简介 |
| password | VARCHAR | 100 | NULL | - | 密码（加密存储，可为空支持验证码登录） |
| wechat_openid | VARCHAR | 100 | NULL | - | 微信OpenID |
| qq_openid | VARCHAR | 100 | NULL | - | QQ OpenID |
| weibo_uid | VARCHAR | 100 | NULL | - | 微博UID |
| gender | TINYINT | - | NULL | 0 | 性别（0未知，1男，2女） |
| birthday | DATE | - | NULL | - | 生日 |
| status | TINYINT | - | NOT NULL | 1 | 状态（1正常，2禁用） |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP ON UPDATE | 更新时间 |

**索引：**
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_phone` (`phone`)
- KEY `idx_username` (`username`)
- KEY `idx_status` (`status`)

---

### 2. 用户统计表 (user_stats)

存储用户统计数据（关注、粉丝、点赞等）

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| user_id | BIGINT | - | NOT NULL | - | 用户ID |
| following_count | INT | - | NOT NULL | 0 | 关注数 |
| follower_count | INT | - | NOT NULL | 0 | 粉丝数 |
| like_count | INT | - | NOT NULL | 0 | 获赞总数 |
| favorite_count | INT | - | NOT NULL | 0 | 收藏总数 |
| note_count | INT | - | NOT NULL | 0 | 笔记总数 |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP ON UPDATE | 更新时间 |

**索引：**
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_user_id` (`user_id`)

---

### 3. 关注关系表 (user_follows)

存储用户关注关系

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| user_id | BIGINT | - | NOT NULL | - | 关注者ID |
| follow_user_id | BIGINT | - | NOT NULL | - | 被关注者ID |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 关注时间 |

**索引：**
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_user_follow` (`user_id`, `follow_user_id`)
- KEY `idx_follow_user_id` (`follow_user_id`)

---

### 4. 商家分类表 (categories)

存储商家分类信息

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | INT | - | NOT NULL | AUTO_INCREMENT | 分类ID |
| name | VARCHAR | 50 | NOT NULL | - | 分类名称 |
| icon | VARCHAR | 100 | NULL | - | 图标emoji或URL |
| color | VARCHAR | 20 | NULL | - | 主题颜色 |
| sort_order | INT | - | NOT NULL | 0 | 排序顺序 |
| status | TINYINT | - | NOT NULL | 1 | 状态（1启用，2禁用） |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP ON UPDATE | 更新时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_status_sort` (`status`, `sort_order`)

---

### 5. 商家信息表 (shops)

存储商家基本信息

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 商家ID |
| category_id | INT | - | NOT NULL | - | 分类ID |
| name | VARCHAR | 100 | NOT NULL | - | 商家名称 |
| header_image | VARCHAR | 500 | NULL | - | 封面图URL |
| images | TEXT | NULL | - | 商家图片集合（JSON数组） |
| description | TEXT | NULL | - | 商家描述 |
| phone | VARCHAR | 20 | NULL | - | 联系电话 |
| address | VARCHAR | 200 | NOT NULL | - | 详细地址 |
| province | VARCHAR | 50 | NULL | - | 省份 |
| city | VARCHAR | 50 | NULL | - | 城市 |
| district | VARCHAR | 50 | NULL | - | 区县 |
| latitude | DECIMAL | (10,7) | NULL | - | 纬度 |
| longitude | DECIMAL | (10,7) | NULL | - | 经度 |
| business_hours | VARCHAR | 100 | NULL | - | 营业时间 |
| average_price | DECIMAL | (10,2) | NULL | - | 人均消费 |
| rating | DECIMAL | (3,2) | NOT NULL | 0.00 | 综合评分 |
| taste_score | DECIMAL | (3,2) | NOT NULL | 0.00 | 口味评分 |
| environment_score | DECIMAL | (3,2) | NOT NULL | 0.00 | 环境评分 |
| service_score | DECIMAL | (3,2) | NOT NULL | 0.00 | 服务评分 |
| review_count | INT | - | NOT NULL | 0 | 评价数量 |
| popularity | INT | - | NOT NULL | 0 | 人气值 |
| status | TINYINT | - | NOT NULL | 1 | 状态（1营业中，2休息中，3已关闭） |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP ON UPDATE | 更新时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_category` (`category_id`)
- KEY `idx_city` (`city`)
- KEY `idx_rating` (`rating`)
- KEY `idx_popularity` (`popularity`)
- KEY `idx_status` (`status`)
- KEY `idx_location` (`latitude`, `longitude`)

---

### 6. 商家标签表 (shop_tags)

存储商家标签

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| shop_id | BIGINT | - | NOT NULL | - | 商家ID |
| tag_name | VARCHAR | 50 | NOT NULL | - | 标签名称 |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_shop_id` (`shop_id`)

---

### 7. 商家评价表 (shop_reviews)

存储用户对商家的评价

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 评价ID |
| shop_id | BIGINT | - | NOT NULL | - | 商家ID |
| user_id | BIGINT | - | NOT NULL | - | 用户ID |
| rating | DECIMAL | (3,2) | NOT NULL | - | 综合评分（1-5） |
| taste_score | DECIMAL | (3,2) | NULL | - | 口味评分 |
| environment_score | DECIMAL | (3,2) | NULL | - | 环境评分 |
| service_score | DECIMAL | (3,2) | NULL | - | 服务评分 |
| content | TEXT | NULL | - | 评价内容 |
| images | TEXT | NULL | - | 评价图片（JSON数组） |
| like_count | INT | - | NOT NULL | 0 | 点赞数 |
| status | TINYINT | - | NOT NULL | 1 | 状态（1正常，2隐藏） |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP ON UPDATE | 更新时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_shop_id` (`shop_id`)
- KEY `idx_user_id` (`user_id`)
- KEY `idx_created_at` (`created_at`)

---

### 8. 用户收藏商家表 (user_shop_favorites)

存储用户收藏的商家

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| user_id | BIGINT | - | NOT NULL | - | 用户ID |
| shop_id | BIGINT | - | NOT NULL | - | 商家ID |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 收藏时间 |

**索引：**
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_user_shop` (`user_id`, `shop_id`)
- KEY `idx_shop_id` (`shop_id`)

---

### 9. 笔记表 (notes)

存储用户发布的笔记

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 笔记ID |
| user_id | BIGINT | - | NOT NULL | - | 作者用户ID |
| shop_id | BIGINT | - | NULL | - | 关联商家ID（可选） |
| title | VARCHAR | 200 | NOT NULL | - | 笔记标题 |
| content | TEXT | NOT NULL | - | 笔记内容 |
| cover_image | VARCHAR | 500 | NULL | - | 封面图 |
| images | TEXT | NULL | - | 图片集合（JSON数组） |
| location | VARCHAR | 100 | NULL | - | 位置信息 |
| latitude | DECIMAL | (10,7) | NULL | - | 纬度 |
| longitude | DECIMAL | (10,7) | NULL | - | 经度 |
| like_count | INT | - | NOT NULL | 0 | 点赞数 |
| comment_count | INT | - | NOT NULL | 0 | 评论数 |
| view_count | INT | - | NOT NULL | 0 | 浏览数 |
| favorite_count | INT | - | NOT NULL | 0 | 收藏数 |
| share_count | INT | - | NOT NULL | 0 | 分享数 |
| tag_type | VARCHAR | 20 | NULL | - | 标签类型（hot/discount/new） |
| status | TINYINT | - | NOT NULL | 1 | 状态（1正常，2隐藏，3审核中） |
| is_recommend | TINYINT | - | NOT NULL | 0 | 是否推荐（0否，1是） |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP ON UPDATE | 更新时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_user_id` (`user_id`)
- KEY `idx_shop_id` (`shop_id`)
- KEY `idx_status` (`status`)
- KEY `idx_is_recommend` (`is_recommend`)
- KEY `idx_created_at` (`created_at`)
- KEY `idx_like_count` (`like_count`)

---

### 10. 笔记标签表 (note_tags)

存储笔记标签

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| note_id | BIGINT | - | NOT NULL | - | 笔记ID |
| tag_name | VARCHAR | 50 | NOT NULL | - | 标签名称 |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_note_id` (`note_id`)
- KEY `idx_tag_name` (`tag_name`)

---

### 11. 笔记评论表 (note_comments)

存储笔记评论

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 评论ID |
| note_id | BIGINT | - | NOT NULL | - | 笔记ID |
| user_id | BIGINT | - | NOT NULL | - | 评论用户ID |
| parent_id | BIGINT | - | NULL | - | 父评论ID（回复功能） |
| content | TEXT | NOT NULL | - | 评论内容 |
| like_count | INT | - | NOT NULL | 0 | 点赞数 |
| status | TINYINT | - | NOT NULL | 1 | 状态（1正常，2隐藏） |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP ON UPDATE | 更新时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_note_id` (`note_id`)
- KEY `idx_user_id` (`user_id`)
- KEY `idx_parent_id` (`parent_id`)
- KEY `idx_created_at` (`created_at`)

---

### 12. 用户点赞笔记表 (user_note_likes)

存储用户点赞笔记的记录

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| user_id | BIGINT | - | NOT NULL | - | 用户ID |
| note_id | BIGINT | - | NOT NULL | - | 笔记ID |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 点赞时间 |

**索引：**
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_user_note` (`user_id`, `note_id`)
- KEY `idx_note_id` (`note_id`)

---

### 13. 用户收藏笔记表 (user_note_bookmarks)

存储用户收藏笔记的记录

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| user_id | BIGINT | - | NOT NULL | - | 用户ID |
| note_id | BIGINT | - | NOT NULL | - | 笔记ID |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 收藏时间 |

**索引：**
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_user_note` (`user_id`, `note_id`)
- KEY `idx_note_id` (`note_id`)

---

### 14. 用户点赞评论表 (user_comment_likes)

存储用户点赞评论的记录

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| user_id | BIGINT | - | NOT NULL | - | 用户ID |
| comment_id | BIGINT | - | NOT NULL | - | 评论ID |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 点赞时间 |

**索引：**
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_user_comment` (`user_id`, `comment_id`)
- KEY `idx_comment_id` (`comment_id`)

---

### 15. 消息会话表 (chat_sessions)

存储聊天会话

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 会话ID |
| user_id | BIGINT | - | NOT NULL | - | 用户ID |
| other_user_id | BIGINT | - | NOT NULL | - | 对方用户ID |
| last_message | VARCHAR | 500 | NULL | - | 最后一条消息 |
| last_message_time | DATETIME | - | NULL | - | 最后消息时间 |
| unread_count | INT | - | NOT NULL | 0 | 未读数量 |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP ON UPDATE | 更新时间 |

**索引：**
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_user_other` (`user_id`, `other_user_id`)
- KEY `idx_user_id` (`user_id`)
- KEY `idx_last_message_time` (`last_message_time`)

---

### 16. 聊天消息表 (chat_messages)

存储聊天消息

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 消息ID |
| session_id | BIGINT | - | NOT NULL | - | 会话ID |
| from_user_id | BIGINT | - | NOT NULL | - | 发送者ID |
| to_user_id | BIGINT | - | NOT NULL | - | 接收者ID |
| content | TEXT | NOT NULL | - | 消息内容 |
| message_type | TINYINT | - | NOT NULL | 1 | 消息类型（1文本，2图片，3语音） |
| is_read | TINYINT | - | NOT NULL | 0 | 是否已读（0未读，1已读） |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 发送时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_session_id` (`session_id`)
- KEY `idx_to_user_is_read` (`to_user_id`, `is_read`)
- KEY `idx_created_at` (`created_at`)

---

### 17. 系统通知表 (system_notices)

存储系统通知（点赞、评论、关注等）

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 通知ID |
| user_id | BIGINT | - | NOT NULL | - | 接收通知的用户ID |
| from_user_id | BIGINT | - | NOT NULL | - | 触发通知的用户ID |
| notice_type | TINYINT | - | NOT NULL | - | 通知类型（1点赞笔记，2评论笔记，3关注，4点赞评论） |
| target_id | BIGINT | - | NULL | - | 目标ID（笔记ID或评论ID） |
| content | VARCHAR | 200 | NULL | - | 通知内容 |
| image_url | VARCHAR | 500 | NULL | - | 关联图片URL |
| is_read | TINYINT | - | NOT NULL | 0 | 是否已读（0未读，1已读） |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_user_is_read` (`user_id`, `is_read`)
- KEY `idx_created_at` (`created_at`)

---

### 18. 用户浏览历史表 (user_browse_history)

存储用户浏览记录

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| user_id | BIGINT | - | NOT NULL | - | 用户ID |
| target_type | TINYINT | - | NOT NULL | - | 目标类型（1笔记，2商家） |
| target_id | BIGINT | - | NOT NULL | - | 目标ID |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 浏览时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_user_id` (`user_id`)
- KEY `idx_created_at` (`created_at`)

---

### 19. 验证码表 (verification_codes)

存储短信验证码

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| phone | VARCHAR | 20 | NOT NULL | - | 手机号 |
| code | VARCHAR | 10 | NOT NULL | - | 验证码 |
| code_type | TINYINT | - | NOT NULL | 1 | 类型（1登录，2注册，3重置密码） |
| is_used | TINYINT | - | NOT NULL | 0 | 是否已使用 |
| expire_time | DATETIME | - | NOT NULL | - | 过期时间 |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |

**索引：**
- PRIMARY KEY (`id`)
- KEY `idx_phone_code` (`phone`, `code`)
- KEY `idx_expire_time` (`expire_time`)

---

### 20. 话题表 (topics)

存储话题标签

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 话题ID |
| name | VARCHAR | 100 | NOT NULL | - | 话题名称 |
| description | TEXT | NULL | - | 话题描述 |
| cover_image | VARCHAR | 500 | NULL | - | 封面图 |
| note_count | INT | - | NOT NULL | 0 | 笔记数量 |
| view_count | INT | - | NOT NULL | 0 | 浏览量 |
| is_hot | TINYINT | - | NOT NULL | 0 | 是否热门 |
| status | TINYINT | - | NOT NULL | 1 | 状态（1启用，2禁用） |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP ON UPDATE | 更新时间 |

**索引：**
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_name` (`name`)
- KEY `idx_is_hot` (`is_hot`)
- KEY `idx_note_count` (`note_count`)

---

### 21. 笔记话题关联表 (note_topics)

存储笔记和话题的关联关系

| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|---------|------|---------|--------|------|
| id | BIGINT | - | NOT NULL | AUTO_INCREMENT | 主键 |
| note_id | BIGINT | - | NOT NULL | - | 笔记ID |
| topic_id | BIGINT | - | NOT NULL | - | 话题ID |
| created_at | DATETIME | - | NOT NULL | CURRENT_TIMESTAMP | 创建时间 |

**索引：**
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_note_topic` (`note_id`, `topic_id`)
- KEY `idx_topic_id` (`topic_id`)

---

## 表关系说明

### 核心关系

1. **用户 - 笔记**：一对多（一个用户可以发布多个笔记）
2. **用户 - 商家评价**：一对多（一个用户可以评价多个商家）
3. **商家 - 评价**：一对多（一个商家有多个评价）
4. **笔记 - 评论**：一对多（一个笔记有多个评论）
5. **用户 - 关注**：多对多（通过user_follows表）
6. **用户 - 收藏笔记**：多对多（通过user_note_bookmarks表）
7. **用户 - 点赞笔记**：多对多（通过user_note_likes表）
8. **笔记 - 话题**：多对多（通过note_topics表）

---

## 数据统计说明

### 冗余字段设计

为提高查询性能，部分统计数据采用冗余设计：

- **笔记表**：存储点赞数、评论数、浏览数等统计字段
- **商家表**：存储评价数、评分等统计字段
- **用户统计表**：单独存储用户的各项统计数据

### 更新策略

- 统计数据通过触发器或定时任务更新
- 关键操作（点赞、评论等）时实时更新计数器

---

## 性能优化建议

1. **索引优化**：为常用查询字段建立索引
2. **分表策略**：聊天消息、浏览历史等大数据量表可按时间分表
3. **缓存策略**：热门数据使用Redis缓存
4. **读写分离**：主从复制，读写分离
5. **分区表**：对超大表进行分区处理

---

## 备注

- 所有时间字段统一使用DATETIME类型
- 所有主键使用BIGINT类型，支持大数据量
- 采用逻辑删除（status字段）而非物理删除
- 敏感信息（密码）必须加密存储
- 坐标使用DECIMAL(10,7)保证精度
