# å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ ç«‹å³ä½¿ç”¨

é‡æ„åçš„ç¬”è®°åˆ†äº«é¡µé¢å·²ç»å®Œæˆï¼Œå¯ä»¥ç«‹å³ä½¿ç”¨ï¼

### è°ƒç”¨æ–¹å¼

åœ¨ä»»ä½•éœ€è¦åˆ†äº«ç¬”è®°çš„åœ°æ–¹ï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š

```javascript
// æ–¹å¼ 1: ä»ç¬”è®°è¯¦æƒ…é¡µåˆ†äº«
uni.navigateTo({
  url: `/pages/note-share/note-share?noteId=${noteId}`
})

// æ–¹å¼ 2: ä»ç¬”è®°åˆ—è¡¨åˆ†äº«
const handleShare = (note) => {
  uni.navigateTo({
    url: `/pages/note-share/note-share?noteId=${note.id}`
  })
}
```

### å‚æ•°è¯´æ˜

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| noteId | String/Number | âœ… | è¦åˆ†äº«çš„ç¬”è®° ID |

## ğŸ“ æ–‡ä»¶ä½ç½®

```
front-business-reviews-Mobile/
â””â”€â”€ src/
    â””â”€â”€ pages/
        â””â”€â”€ note-share/
            â””â”€â”€ note-share.vue  â† é‡æ„åçš„æ–‡ä»¶
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. Bottom Sheet å¼¹çª—
- ä»åº•éƒ¨æ»‘å…¥çš„åŠå±å¼¹çª—
- ç‚¹å‡»é®ç½©æˆ–å…³é—­æŒ‰é’®å…³é—­
- æµç•…çš„åŠ¨ç”»æ•ˆæœ

### 2. ç”¨æˆ·åˆ—è¡¨
- è‡ªåŠ¨åˆå¹¶å…³æ³¨åˆ—è¡¨å’Œç²‰ä¸åˆ—è¡¨
- æ ¹æ® userId å»é‡
- æ¨ªå‘æ»šåŠ¨å±•ç¤º

### 3. é€‰ä¸­ç”¨æˆ·
- ç‚¹å‡»å¤´åƒé€‰ä¸­/å–æ¶ˆé€‰ä¸­
- å¤´åƒä¸Šæ˜¾ç¤ºå¯¹å‹¾è¦†ç›–å±‚
- æ©™è‰²è¾¹æ¡†é«˜äº®

### 4. åœ¨çº¿çŠ¶æ€
- å¤´åƒå³ä¸‹è§’ç»¿è‰²å°åœ†ç‚¹
- æ ¹æ® user.isOnline å±æ€§æ˜¾ç¤º

### 5. æœç´¢åŠŸèƒ½
- æœç´¢ç”¨æˆ·åå’Œä¸ªäººç®€ä»‹
- é˜²æŠ–å¤„ç†ï¼ˆ300msï¼‰
- ç©ºç»“æœæç¤º

### 6. åˆ†äº«æ“ä½œ
- æœªé€‰ä¸­æ—¶æŒ‰é’®ç¦ç”¨
- åˆ†äº«ä¸­æ˜¾ç¤ºåŠ è½½çŠ¶æ€
- æˆåŠŸ/å¤±è´¥åé¦ˆæç¤º

## ğŸ”§ ä¾èµ–çš„ API

ç¡®ä¿ä»¥ä¸‹ API å·²æ­£ç¡®é…ç½®ï¼š

### 1. è·å–ç¬”è®°è¯¦æƒ…
```javascript
// src/api/note.js
export const getNoteDetail = (noteId) => {
  return request({
    url: `/app/note/${noteId}`,
    method: 'GET'
  })
}
```

**è¿”å›æ•°æ®æ ¼å¼**:
```javascript
{
  id: 123,
  title: "ç¬”è®°æ ‡é¢˜",
  content: "ç¬”è®°å†…å®¹",
  images: ["å›¾ç‰‡URL1", "å›¾ç‰‡URL2"],
  // æˆ–
  image: "å›¾ç‰‡URL"
}
```

### 2. è·å–å…³æ³¨åˆ—è¡¨
```javascript
// src/api/user.js
export const getFollowingList = (page, pageSize) => {
  return request({
    url: '/app/user/following',
    method: 'GET',
    params: { page, pageSize }
  })
}
```

**è¿”å›æ•°æ®æ ¼å¼**:
```javascript
{
  list: [
    {
      userId: 1,
      username: "ç”¨æˆ·å",
      avatar: "å¤´åƒURL",
      bio: "ä¸ªäººç®€ä»‹",
      isOnline: true  // å¯é€‰
    }
  ]
}
```

### 3. è·å–ç²‰ä¸åˆ—è¡¨
```javascript
// src/api/user.js
export const getFollowerList = (page, pageSize) => {
  return request({
    url: '/app/user/followers',
    method: 'GET',
    params: { page, pageSize }
  })
}
```

**è¿”å›æ•°æ®æ ¼å¼**: åŒå…³æ³¨åˆ—è¡¨

### 4. åˆ†äº«ç¬”è®°
```javascript
// src/api/message.js
export const shareNoteToUsers = (noteId, userIds) => {
  return request({
    url: '/app/message/share-note',
    method: 'POST',
    data: { noteId, userIds }
  })
}
```

**è¯·æ±‚å‚æ•°**:
```javascript
{
  noteId: 123,
  userIds: [1, 2, 3]  // æ•°å­—æ•°ç»„
}
```

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

å¦‚æœéœ€è¦è°ƒæ•´æ ·å¼ï¼Œå¯ä»¥ä¿®æ”¹ä»¥ä¸‹ SCSS å˜é‡ï¼š

```scss
// ä¸»é¢˜è‰²
$primary-color: #ff9f43;
$primary-gradient: linear-gradient(135deg, #ffaf40, #ff9f43);

// åœ¨çº¿çŠ¶æ€é¢œè‰²
$online-color: #52c41a;

// å¼¹çª—åœ†è§’
$sheet-border-radius: 40rpx;

// å¤´åƒå°ºå¯¸
$avatar-size: 100rpx;

// é—´è·
$card-gap: 24rpx;
$content-padding: 30rpx;
```

## ğŸ–¼ï¸ é»˜è®¤å›¾ç‰‡

éœ€è¦å‡†å¤‡ä»¥ä¸‹é»˜è®¤å›¾ç‰‡ï¼š

```
src/static/
â”œâ”€â”€ default-avatar.png   â† é»˜è®¤å¤´åƒï¼ˆå»ºè®® 200x200ï¼‰
â””â”€â”€ default-note.png     â† é»˜è®¤ç¬”è®°å°é¢ï¼ˆå»ºè®® 400x400ï¼‰
```

å¦‚æœæ²¡æœ‰è¿™äº›å›¾ç‰‡ï¼Œå¯ä»¥ä½¿ç”¨åœ¨çº¿å›¾ç‰‡æˆ–ç§»é™¤ç›¸å…³ä»£ç ã€‚

## ğŸ§ª æµ‹è¯•

### å¿«é€Ÿæµ‹è¯•æ­¥éª¤

1. **æ‰“å¼€åˆ†äº«é¡µé¢**
   ```javascript
   uni.navigateTo({
     url: '/pages/note-share/note-share?noteId=1'
   })
   ```

2. **æ£€æŸ¥å¼¹çª—åŠ¨ç”»**
   - å¼¹çª—åº”ä»åº•éƒ¨å¹³æ»‘æ»‘å…¥
   - é®ç½©åº”ä»é€æ˜æ¸å˜åˆ°åŠé€æ˜

3. **æµ‹è¯•ç”¨æˆ·åˆ—è¡¨**
   - æ¨ªå‘æ»‘åŠ¨æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
   - ç¡®è®¤æ²¡æœ‰é‡å¤ç”¨æˆ·

4. **æµ‹è¯•é€‰ä¸­åŠŸèƒ½**
   - ç‚¹å‡»å¤´åƒé€‰ä¸­ç”¨æˆ·
   - æŸ¥çœ‹å¯¹å‹¾å’Œè¾¹æ¡†æ•ˆæœ

5. **æµ‹è¯•æœç´¢**
   - è¾“å…¥å…³é”®è¯æœç´¢ç”¨æˆ·
   - æ¸…ç©ºæœç´¢æ¡†æ¢å¤åˆ—è¡¨

6. **æµ‹è¯•åˆ†äº«**
   - é€‰ä¸­å‡ ä¸ªç”¨æˆ·
   - ç‚¹å‡»åˆ†äº«æŒ‰é’®
   - æŸ¥çœ‹æˆåŠŸæç¤º

## ğŸ› å¸¸è§é—®é¢˜

### Q1: å¼¹çª—ä¸æ˜¾ç¤ºï¼Ÿ
**A**: æ£€æŸ¥ `noteId` å‚æ•°æ˜¯å¦æ­£ç¡®ä¼ é€’ï¼š
```javascript
// é”™è¯¯
url: '/pages/note-share/note-share'

// æ­£ç¡®
url: `/pages/note-share/note-share?noteId=${noteId}`
```

### Q2: ç”¨æˆ·åˆ—è¡¨ä¸ºç©ºï¼Ÿ
**A**: æ£€æŸ¥ API è¿”å›æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼š
```javascript
// æ­£ç¡®æ ¼å¼
{
  list: [{ userId: 1, username: "...", avatar: "..." }]
}

// é”™è¯¯æ ¼å¼
[{ userId: 1, username: "...", avatar: "..." }]
```

### Q3: å¤´åƒä¸æ˜¾ç¤ºï¼Ÿ
**A**: æ£€æŸ¥å¤´åƒ URL æ˜¯å¦æœ‰æ•ˆï¼Œæˆ–æ·»åŠ é»˜è®¤å¤´åƒï¼š
```javascript
:src="user.avatar || '/static/default-avatar.png'"
```

### Q4: åˆ†äº«å¤±è´¥ï¼Ÿ
**A**: æ£€æŸ¥ API è¯·æ±‚å‚æ•°æ ¼å¼ï¼š
```javascript
// userIds å¿…é¡»æ˜¯æ•°å­—æ•°ç»„
{ noteId: 123, userIds: [1, 2, 3] }

// ä¸æ˜¯å­—ç¬¦ä¸²æ•°ç»„
{ noteId: 123, userIds: ["1", "2", "3"] }  // âŒ
```

### Q5: åŠ¨ç”»ä¸æµç•…ï¼Ÿ
**A**: ç¡®ä¿ä½¿ç”¨çœŸæœºæµ‹è¯•ï¼Œæ¨¡æ‹Ÿå™¨æ€§èƒ½å¯èƒ½ä¸è¶³ã€‚

### Q6: åœ¨çº¿çŠ¶æ€ä¸æ˜¾ç¤ºï¼Ÿ
**A**: æ£€æŸ¥ç”¨æˆ·æ•°æ®æ˜¯å¦åŒ…å« `isOnline` å­—æ®µï¼š
```javascript
{
  userId: 1,
  username: "ç”¨æˆ·å",
  avatar: "å¤´åƒURL",
  isOnline: true  // â† éœ€è¦è¿™ä¸ªå­—æ®µ
}
```

å¦‚æœåç«¯ä¸æä¾›ï¼Œå¯ä»¥æš‚æ—¶éšè—åœ¨çº¿çŠ¶æ€ç‚¹ã€‚

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. **æ§åˆ¶å°æ—¥å¿—**: æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
2. **ç½‘ç»œè¯·æ±‚**: æ£€æŸ¥ API æ˜¯å¦æ­£å¸¸è¿”å›
3. **æ•°æ®æ ¼å¼**: ç¡®è®¤æ•°æ®ç»“æ„ç¬¦åˆè¦æ±‚
4. **ç‰ˆæœ¬å…¼å®¹**: ç¡®ä¿ UniApp ç‰ˆæœ¬ >= 3.0

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨ä½ å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨æ–°çš„ç¬”è®°åˆ†äº«é¡µé¢äº†ï¼

```javascript
// ç¤ºä¾‹ï¼šåœ¨ç¬”è®°è¯¦æƒ…é¡µæ·»åŠ åˆ†äº«æŒ‰é’®
<button @click="handleShare">åˆ†äº«ç¬”è®°</button>

const handleShare = () => {
  uni.navigateTo({
    url: `/pages/note-share/note-share?noteId=${noteId.value}`
  })
}
```

äº«å—å…¨æ–°çš„åˆ†äº«ä½“éªŒå§ï¼ğŸš€
