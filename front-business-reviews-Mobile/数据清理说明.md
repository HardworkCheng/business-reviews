# æ•°æ®æ¸…ç†è¯´æ˜

æœ¬æ–‡æ¡£è®°å½•äº†é¡¹ç›®ä¸­æ‰€æœ‰å›ºå®šæ•°æ®çš„æ¸…ç†æƒ…å†µï¼Œä»¥ä¾¿åç»­è¿›è¡Œåç«¯APIå¯¹æ¥ã€‚

## æ¸…ç†æ¦‚è§ˆ

å·²æ¸…ç†ä»¥ä¸‹6ä¸ªé¡µé¢çš„å›ºå®šæ•°æ®ï¼Œæ‰€æœ‰ä¸šåŠ¡æ•°æ®ç°åœ¨éƒ½æ˜¯ç©ºçš„ï¼Œç­‰å¾…ä»åç«¯APIè·å–ã€‚

---

## 1ï¸âƒ£ é¦–é¡µ (pages/index/index.vue)

### å·²æ¸…ç†çš„æ•°æ®

#### noteList - ç¬”è®°åˆ—è¡¨
**æ¸…ç†å‰ï¼š** åŒ…å«4æ¡å›ºå®šçš„ç¬”è®°æ•°æ®
```javascript
const noteList = ref([
  {
    id: 1,
    image: 'https://via.placeholder.com/400x500/FFD166/FFFFFF?text=Food',
    title: 'æ­å·è¶…å¥½åƒçš„çƒ¤è‚‰åº—ï¼äººå‡100+',
    author: 'ç¾é£Ÿæ¢åº—å°ç‹',
    likes: 1234,
    tag: 'çƒ­é—¨',
    tagClass: 'tag-hot'
  },
  // ... å…¶ä»–3æ¡æ•°æ®
])
```

**æ¸…ç†åï¼š** ç©ºæ•°ç»„
```javascript
const noteList = ref([])
```

### ä¿ç•™çš„æ•°æ®

- **categories**: åˆ†ç±»æ•°æ®ï¼ˆç¾é£Ÿã€KTVç­‰8ä¸ªåˆ†ç±»ï¼‰
  - **åŸå› ï¼š** è¿™æ˜¯ç³»ç»Ÿé…ç½®æ•°æ®ï¼Œé€šå¸¸å›ºå®šä¸å˜
  - **åç»­ï¼š** å¦‚æœéœ€è¦åŠ¨æ€é…ç½®ï¼Œå¯æ”¹ä¸ºä»åç«¯è·å–

### éœ€è¦å¯¹æ¥çš„API

```javascript
onLoad(() => {
  console.log('Index page loaded')
  // TODO: ä»åç«¯APIè·å–æ¨èç¬”è®°åˆ—è¡¨
  // fetchNoteList()
})
```

**å»ºè®®APIæ¥å£ï¼š**
- `GET /api/notes/recommended` - è·å–æ¨èç¬”è®°åˆ—è¡¨
- è¿”å›æ•°æ®æ ¼å¼ï¼š
```json
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "image": "å›¾ç‰‡URL",
      "title": "ç¬”è®°æ ‡é¢˜",
      "author": "ä½œè€…æ˜µç§°",
      "likes": ç‚¹èµæ•°,
      "tag": "æ ‡ç­¾åï¼ˆå¯é€‰ï¼‰",
      "tagClass": "tag-hot/tag-discount/tag-newï¼ˆå¯é€‰ï¼‰"
    }
  ]
}
```

---

## 2ï¸âƒ£ ç¬”è®°è¯¦æƒ…é¡µ (pages/note-detail/note-detail.vue)

### å·²æ¸…ç†çš„æ•°æ®

#### noteData - ç¬”è®°è¯¦æƒ…
**æ¸…ç†å‰ï¼š** åŒ…å«å®Œæ•´çš„ç¬”è®°ä¿¡æ¯
```javascript
const noteData = ref({
  image: 'https://via.placeholder.com/750x1000/FFD166/FFFFFF?text=Note',
  title: 'æ­å·å¿…åƒç¾é£Ÿæ¨è',
  content: 'è¿™å®¶åº—çœŸçš„å¤ªå¥½åƒäº†...',
  author: 'ç¾é£Ÿæ¢åº—å°ç‹',
  authorAvatar: 'https://via.placeholder.com/200/EF476F/FFFFFF?text=U',
  publishTime: '2å°æ—¶å‰',
  tags: ['ç¾é£Ÿ', 'æ¢åº—', 'æ­å·'],
  comments: 128,
  views: 3456
})
```

**æ¸…ç†åï¼š** ç©ºå¯¹è±¡
```javascript
const noteData = ref({})
```

#### comments - è¯„è®ºåˆ—è¡¨
**æ¸…ç†å‰ï¼š** åŒ…å«2æ¡å›ºå®šè¯„è®º
**æ¸…ç†åï¼š** ç©ºæ•°ç»„
```javascript
const comments = ref([])
```

#### likeCount - ç‚¹èµæ•°
**æ¸…ç†å‰ï¼š** `234`
**æ¸…ç†åï¼š** `0`

### ä¿ç•™çš„æ•°æ®

- **isLiked**: æ˜¯å¦å·²ç‚¹èµï¼ˆå‰ç«¯äº¤äº’çŠ¶æ€ï¼‰
- **isBookmarked**: æ˜¯å¦å·²æ”¶è—ï¼ˆå‰ç«¯äº¤äº’çŠ¶æ€ï¼‰
- **commentText**: è¯„è®ºè¾“å…¥æ¡†å†…å®¹ï¼ˆå‰ç«¯è¡¨å•çŠ¶æ€ï¼‰

### éœ€è¦å¯¹æ¥çš„API

```javascript
onLoad((options) => {
  console.log('Note detail loaded, id:', options.id)
  // TODO: æ ¹æ®noteIdä»åç«¯APIè·å–ç¬”è®°è¯¦æƒ…
  // fetchNoteDetail(options.id)
  // TODO: è·å–è¯„è®ºåˆ—è¡¨
  // fetchComments(options.id)
})
```

**å»ºè®®APIæ¥å£ï¼š**

1. `GET /api/notes/:id` - è·å–ç¬”è®°è¯¦æƒ…
```json
{
  "code": 200,
  "data": {
    "id": 1,
    "image": "å›¾ç‰‡URL",
    "title": "ç¬”è®°æ ‡é¢˜",
    "content": "ç¬”è®°å†…å®¹",
    "author": "ä½œè€…æ˜µç§°",
    "authorAvatar": "ä½œè€…å¤´åƒURL",
    "publishTime": "å‘å¸ƒæ—¶é—´",
    "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
    "likeCount": ç‚¹èµæ•°,
    "comments": è¯„è®ºæ•°,
    "views": æµè§ˆæ•°,
    "isLiked": å½“å‰ç”¨æˆ·æ˜¯å¦å·²ç‚¹èµ,
    "isBookmarked": å½“å‰ç”¨æˆ·æ˜¯å¦å·²æ”¶è—
  }
}
```

2. `GET /api/notes/:id/comments` - è·å–è¯„è®ºåˆ—è¡¨
```json
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "author": "è¯„è®ºè€…æ˜µç§°",
      "avatar": "å¤´åƒURL",
      "content": "è¯„è®ºå†…å®¹",
      "time": "è¯„è®ºæ—¶é—´",
      "likes": ç‚¹èµæ•°,
      "liked": å½“å‰ç”¨æˆ·æ˜¯å¦å·²ç‚¹èµè¯¥è¯„è®º
    }
  ]
}
```

---

## 3ï¸âƒ£ æœç´¢é¡µ (pages/search/search.vue)

### å·²æ¸…ç†çš„æ•°æ®

#### shopList - å•†å®¶åˆ—è¡¨
**æ¸…ç†å‰ï¼š** åŒ…å«3æ¡å›ºå®šçš„å•†å®¶æ•°æ®
```javascript
const shopList = ref([
  {
    id: 1,
    name: 'è”¡é¦¬æ´ªæ¶›çƒ¤è‚‰Â·è€åŒ—äº¬é“œé”…æ¶®ç¾Šè‚‰',
    image: 'https://via.placeholder.com/400x400/FFD166/FFFFFF?text=Shop',
    rating: 4.8,
    reviews: 1234,
    tags: ['çƒ¤è‚‰', 'ç«é”…', 'äººæ°”æ¦œ'],
    location: 'æ‹±å¢…åŒº',
    distance: '1.2km'
  },
  // ... å…¶ä»–2æ¡æ•°æ®
])
```

**æ¸…ç†åï¼š** ç©ºæ•°ç»„
```javascript
const shopList = ref([])
```

### ä¿ç•™çš„æ•°æ®

- **categories**: åˆ†ç±»æ•°æ®ï¼ˆä¸é¦–é¡µä¸€è‡´ï¼‰
- **selectedCategory**: å½“å‰é€‰æ‹©çš„åˆ†ç±»ï¼ˆå‰ç«¯çŠ¶æ€ï¼‰
- **showCategoryDropdown**: åˆ†ç±»ä¸‹æ‹‰æ¡†æ˜¾ç¤ºçŠ¶æ€ï¼ˆå‰ç«¯äº¤äº’ï¼‰
- **showSortDropdown**: æ’åºä¸‹æ‹‰æ¡†æ˜¾ç¤ºçŠ¶æ€ï¼ˆå‰ç«¯äº¤äº’ï¼‰
- **sortField**: å½“å‰æ’åºå­—æ®µï¼ˆå‰ç«¯çŠ¶æ€ï¼‰
- **sortOrder**: æ’åºæ–¹å‘ï¼ˆå‰ç«¯çŠ¶æ€ï¼‰
- **keyword**: æœç´¢å…³é”®è¯ï¼ˆå‰ç«¯è¡¨å•çŠ¶æ€ï¼‰

### éœ€è¦å¯¹æ¥çš„API

```javascript
onLoad((options) => {
  if (options.category) {
    keyword.value = options.category
    selectedCategory.value = options.category
  }
  // TODO: æ ¹æ®åˆ†ç±»å’Œç­›é€‰æ¡ä»¶ä»åç«¯APIè·å–å•†å®¶åˆ—è¡¨
  // fetchShopList(selectedCategory.value, sortField.value, sortOrder.value)
})
```

**å»ºè®®APIæ¥å£ï¼š**
- `GET /api/shops` - è·å–å•†å®¶åˆ—è¡¨
- æŸ¥è¯¢å‚æ•°ï¼š
  - `category`: åˆ†ç±»ï¼ˆç¾é£Ÿã€KTVç­‰ï¼‰
  - `sortField`: æ’åºå­—æ®µï¼ˆdistance/popularity/rating/priceï¼‰
  - `sortOrder`: æ’åºæ–¹å‘ï¼ˆasc/descï¼‰
  - `keyword`: æœç´¢å…³é”®è¯ï¼ˆå¯é€‰ï¼‰

```json
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "name": "å•†å®¶åç§°",
      "image": "å°é¢å›¾URL",
      "rating": è¯„åˆ†,
      "reviews": è¯„ä»·æ•°,
      "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
      "location": "ä½ç½®",
      "distance": "è·ç¦»",
      "popularity": äººæ°”å€¼,
      "price": äººå‡ä»·æ ¼
    }
  ]
}
```

---

## 4ï¸âƒ£ å•†å®¶è¯¦æƒ…é¡µ (pages/shop-detail/shop-detail.vue)

### å·²æ¸…ç†çš„æ•°æ®

#### shopData - å•†å®¶ä¿¡æ¯
**æ¸…ç†å‰ï¼š** æ¨¡æ¿ä¸­ç¡¬ç¼–ç äº†å•†å®¶ä¿¡æ¯
**æ¸…ç†åï¼š** æ”¹ä¸ºä»shopDataåŠ¨æ€ç»‘å®š

```javascript
const shopData = ref({})
```

ç°åœ¨å•†å®¶è¯¦æƒ…é¡µçš„æ‰€æœ‰æ•°æ®éƒ½ä» `shopData` å¯¹è±¡ä¸­è·å–ï¼š
- `shopData.name` - å•†å®¶åç§°
- `shopData.rating` - ç»¼åˆè¯„åˆ†
- `shopData.reviewCount` - è¯„ä»·æ•°é‡
- `shopData.tasteScore` - å£å‘³è¯„åˆ†
- `shopData.environmentScore` - ç¯å¢ƒè¯„åˆ†
- `shopData.serviceScore` - æœåŠ¡è¯„åˆ†
- `shopData.address` - åœ°å€
- `shopData.businessHours` - è¥ä¸šæ—¶é—´
- `shopData.headerImage` - å°é¢å›¾

#### tags - æ ‡ç­¾åˆ—è¡¨
**æ¸…ç†å‰ï¼š** åŒ…å«4ä¸ªå›ºå®šæ ‡ç­¾
**æ¸…ç†åï¼š** ç©ºæ•°ç»„
```javascript
const tags = ref([])
```

#### reviews - è¯„ä»·åˆ—è¡¨
**æ¸…ç†å‰ï¼š** åŒ…å«2æ¡å›ºå®šè¯„ä»·
**æ¸…ç†åï¼š** ç©ºæ•°ç»„
```javascript
const reviews = ref([])
```

### ä¿ç•™çš„æ•°æ®

- **isFavorited**: æ˜¯å¦å·²æ”¶è—ï¼ˆå‰ç«¯äº¤äº’çŠ¶æ€ï¼‰

### éœ€è¦å¯¹æ¥çš„API

```javascript
onLoad((options) => {
  console.log('Shop detail loaded, id:', options.id)
  // TODO: æ ¹æ®shopIdä»åç«¯APIè·å–å•†å®¶è¯¦æƒ…
  // fetchShopDetail(options.id)
  // TODO: è·å–å•†å®¶è¯„ä»·åˆ—è¡¨
  // fetchReviews(options.id)
})
```

**å»ºè®®APIæ¥å£ï¼š**

1. `GET /api/shops/:id` - è·å–å•†å®¶è¯¦æƒ…
```json
{
  "code": 200,
  "data": {
    "id": 1,
    "name": "å•†å®¶åç§°",
    "headerImage": "å°é¢å›¾URL",
    "rating": ç»¼åˆè¯„åˆ†,
    "reviewCount": è¯„ä»·æ•°é‡,
    "tasteScore": å£å‘³è¯„åˆ†,
    "environmentScore": ç¯å¢ƒè¯„åˆ†,
    "serviceScore": æœåŠ¡è¯„åˆ†,
    "address": "è¯¦ç»†åœ°å€",
    "businessHours": "è¥ä¸šæ—¶é—´",
    "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
    "phone": "è”ç³»ç”µè¯",
    "isFavorited": å½“å‰ç”¨æˆ·æ˜¯å¦å·²æ”¶è—
  }
}
```

2. `GET /api/shops/:id/reviews` - è·å–å•†å®¶è¯„ä»·
```json
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "author": "è¯„ä»·è€…æ˜µç§°",
      "avatar": "å¤´åƒURL",
      "rating": è¯„åˆ†,
      "date": "è¯„ä»·æ—¥æœŸ",
      "content": "è¯„ä»·å†…å®¹",
      "images": ["å›¾ç‰‡URLæ•°ç»„ï¼ˆå¯é€‰ï¼‰"]
    }
  ]
}
```

---

## 5ï¸âƒ£ ä¸ªäººä¸»é¡µ (pages/profile/profile.vue)

### å·²æ¸…ç†çš„æ•°æ®

#### userInfo - ç”¨æˆ·ä¿¡æ¯
**æ¸…ç†å‰ï¼š** åŒ…å«å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯
```javascript
const userInfo = ref({
  avatar: 'https://via.placeholder.com/200/FFD166/FFFFFF?text=User',
  username: 'ç¾é£Ÿæ¢åº—å°ç‹',
  userId: '123456',
  bio: 'çƒ­çˆ±ç¾é£Ÿï¼Œå–œæ¬¢æ¢åº— ğŸœ',
  followingCount: 128,
  followerCount: 3456,
  likeCount: 12345,
  favoriteCount: 567
})
```

**æ¸…ç†åï¼š** ç©ºå¯¹è±¡ï¼Œæ‰€æœ‰æ•°æ®æ”¹ä¸ºåŠ¨æ€ç»‘å®š
```javascript
const userInfo = ref({})
```

æ¨¡æ¿ä¸­ä½¿ç”¨é»˜è®¤å€¼ï¼š
```vue
<text class="username">{{ userInfo.username || 'æœªç™»å½•' }}</text>
<text class="user-id">{{ userInfo.userId ? 'ID: ' + userInfo.userId : '' }}</text>
<text class="bio">{{ userInfo.bio || 'è¿˜æ²¡æœ‰ä¸ªäººç®€ä»‹' }}</text>
<text class="stat-value text-primary">{{ userInfo.followingCount || 0 }}</text>
```

#### myNotes - æˆ‘çš„ç¬”è®°
**æ¸…ç†å‰ï¼š** åŒ…å«4æ¡å›ºå®šç¬”è®°
**æ¸…ç†åï¼š** ç©ºæ•°ç»„
```javascript
const myNotes = ref([])
```

#### æ–°å¢çš„ç©ºæ•°ç»„
```javascript
const favoriteList = ref([])  // æ”¶è—åˆ—è¡¨
const historyList = ref([])   // è¶³è¿¹åˆ—è¡¨
```

### ä¿ç•™çš„æ•°æ®

- **currentTab**: å½“å‰é€‰ä¸­çš„æ ‡ç­¾é¡µï¼ˆå‰ç«¯çŠ¶æ€ï¼‰

### éœ€è¦å¯¹æ¥çš„API

```javascript
onLoad(() => {
  console.log('Profile page loaded')
  // TODO: ä»åç«¯APIè·å–ç”¨æˆ·ä¿¡æ¯
  // fetchUserInfo()
  // TODO: è·å–æˆ‘çš„ç¬”è®°åˆ—è¡¨
  // fetchMyNotes()
})
```

**å»ºè®®APIæ¥å£ï¼š**

1. `GET /api/user/info` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
```json
{
  "code": 200,
  "data": {
    "userId": "ç”¨æˆ·ID",
    "username": "ç”¨æˆ·å",
    "avatar": "å¤´åƒURL",
    "bio": "ä¸ªäººç®€ä»‹",
    "followingCount": å…³æ³¨æ•°,
    "followerCount": ç²‰ä¸æ•°,
    "likeCount": è·èµæ•°,
    "favoriteCount": æ”¶è—æ•°
  }
}
```

2. `GET /api/user/notes` - è·å–æˆ‘çš„ç¬”è®°
```json
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "image": "å›¾ç‰‡URL",
      "title": "ç¬”è®°æ ‡é¢˜",
      "likes": ç‚¹èµæ•°
    }
  ]
}
```

3. `GET /api/user/favorites` - è·å–æ”¶è—åˆ—è¡¨ï¼ˆæœªæ¥å®ç°ï¼‰
4. `GET /api/user/history` - è·å–æµè§ˆè¶³è¿¹ï¼ˆæœªæ¥å®ç°ï¼‰

---

## 6ï¸âƒ£ æ¶ˆæ¯é¡µ (pages/message/message.vue)

### å·²æ¸…ç†çš„æ•°æ®

#### chatList - èŠå¤©åˆ—è¡¨
**æ¸…ç†å‰ï¼š** åŒ…å«2æ¡å›ºå®šèŠå¤©
```javascript
const chatList = ref([
  {
    id: 1,
    name: 'å°çº¢',
    avatar: 'https://via.placeholder.com/200/EF476F/FFFFFF?text=H',
    lastMessage: 'è¿™å®¶åº—çœŸçš„è¶…çº§å¥½åƒï¼',
    time: '10:30',
    unread: 2,
    online: true
  },
  // ... å…¶ä»–1æ¡æ•°æ®
])
```

**æ¸…ç†åï¼š** ç©ºæ•°ç»„
```javascript
const chatList = ref([])
```

#### noticeList - é€šçŸ¥åˆ—è¡¨
**æ¸…ç†å‰ï¼š** åŒ…å«3æ¡å›ºå®šé€šçŸ¥
```javascript
const noticeList = ref([
  {
    user: 'ç¾é£Ÿè¾¾äºº',
    action: 'ç‚¹èµäº†ä½ çš„ç¬”è®°',
    time: '5åˆ†é’Ÿå‰',
    icon: 'â¤ï¸',
    type: 'like',
    image: 'https://via.placeholder.com/200/FFD166/FFFFFF?text=Note'
  },
  // ... å…¶ä»–2æ¡æ•°æ®
])
```

**æ¸…ç†åï¼š** ç©ºæ•°ç»„
```javascript
const noticeList = ref([])
```

### ä¿ç•™çš„æ•°æ®

- **currentTab**: å½“å‰é€‰ä¸­çš„æ ‡ç­¾é¡µï¼ˆèŠå¤©/é€šçŸ¥ï¼‰

### éœ€è¦å¯¹æ¥çš„API

```javascript
onLoad(() => {
  console.log('Message page loaded')
  // TODO: ä»åç«¯APIè·å–èŠå¤©åˆ—è¡¨
  // fetchChatList()
  // TODO: è·å–é€šçŸ¥åˆ—è¡¨
  // fetchNoticeList()
})
```

**å»ºè®®APIæ¥å£ï¼š**

1. `GET /api/messages/chats` - è·å–èŠå¤©åˆ—è¡¨
```json
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "name": "èŠå¤©å¯¹è±¡æ˜µç§°",
      "avatar": "å¤´åƒURL",
      "lastMessage": "æœ€åä¸€æ¡æ¶ˆæ¯",
      "time": "æ—¶é—´",
      "unread": æœªè¯»æ•°é‡,
      "online": æ˜¯å¦åœ¨çº¿
    }
  ]
}
```

2. `GET /api/messages/notices` - è·å–é€šçŸ¥åˆ—è¡¨
```json
{
  "code": 200,
  "data": [
    {
      "id": 1,
      "user": "ç”¨æˆ·æ˜µç§°",
      "action": "æ“ä½œæè¿°ï¼ˆç‚¹èµäº†ä½ çš„ç¬”è®°/è¯„è®ºäº†ä½ /å…³æ³¨äº†ä½ ï¼‰",
      "time": "æ—¶é—´",
      "icon": "å›¾æ ‡emoji",
      "type": "ç±»å‹ï¼ˆlike/comment/followï¼‰",
      "image": "å…³è”å›¾ç‰‡URLï¼ˆå¯é€‰ï¼‰"
    }
  ]
}
```

---

## æ•°æ®æ¸…ç†æ€»ç»“

### âœ… å·²æ¸…ç†çš„å†…å®¹

| é¡µé¢ | æ¸…ç†çš„æ•°æ® | æ•°é‡ |
|------|-----------|------|
| é¦–é¡µ | noteListï¼ˆç¬”è®°åˆ—è¡¨ï¼‰ | 4æ¡ |
| ç¬”è®°è¯¦æƒ… | noteDataï¼ˆç¬”è®°è¯¦æƒ…ï¼‰ã€commentsï¼ˆè¯„è®ºåˆ—è¡¨ï¼‰ã€likeCount | 1ä¸ªå¯¹è±¡ + 2æ¡è¯„è®º |
| æœç´¢é¡µ | shopListï¼ˆå•†å®¶åˆ—è¡¨ï¼‰ | 3æ¡ |
| å•†å®¶è¯¦æƒ… | shopDataï¼ˆå•†å®¶ä¿¡æ¯ï¼‰ã€tagsï¼ˆæ ‡ç­¾ï¼‰ã€reviewsï¼ˆè¯„ä»·ï¼‰ | 1ä¸ªå¯¹è±¡ + 4ä¸ªæ ‡ç­¾ + 2æ¡è¯„ä»· |
| ä¸ªäººä¸»é¡µ | userInfoï¼ˆç”¨æˆ·ä¿¡æ¯ï¼‰ã€myNotesï¼ˆç¬”è®°åˆ—è¡¨ï¼‰ | 1ä¸ªå¯¹è±¡ + 4æ¡ç¬”è®° |
| æ¶ˆæ¯é¡µ | chatListï¼ˆèŠå¤©åˆ—è¡¨ï¼‰ã€noticeListï¼ˆé€šçŸ¥åˆ—è¡¨ï¼‰ | 2æ¡èŠå¤© + 3æ¡é€šçŸ¥ |

**æ€»è®¡æ¸…ç†ï¼š** çº¦ **30+** æ¡å›ºå®šæ•°æ®

### ğŸ”’ ä¿ç•™çš„å†…å®¹

ä»¥ä¸‹æ•°æ®è¢«ä¿ç•™ï¼Œå› ä¸ºå®ƒä»¬å±äº**ç³»ç»Ÿé…ç½®**æˆ–**å‰ç«¯UIçŠ¶æ€**ï¼š

1. **ç³»ç»Ÿé…ç½®æ•°æ®**
   - `categories` - åˆ†ç±»é…ç½®ï¼ˆé¦–é¡µå’Œæœç´¢é¡µï¼‰
   - å¦‚æœæœªæ¥éœ€è¦åŠ¨æ€é…ç½®ï¼Œå¯ä»¥æ”¹ä¸ºä»åç«¯è·å–

2. **å‰ç«¯äº¤äº’çŠ¶æ€**
   - `currentTab` - å½“å‰é€‰ä¸­çš„æ ‡ç­¾é¡µ
   - `isLiked` - æ˜¯å¦å·²ç‚¹èµ
   - `isBookmarked` - æ˜¯å¦å·²æ”¶è—
   - `isFavorited` - æ˜¯å¦å·²æ”¶è—å•†å®¶
   - `showCategoryDropdown` - ä¸‹æ‹‰æ¡†æ˜¾ç¤ºçŠ¶æ€
   - `showSortDropdown` - ä¸‹æ‹‰æ¡†æ˜¾ç¤ºçŠ¶æ€

3. **å‰ç«¯è¡¨å•çŠ¶æ€**
   - `keyword` - æœç´¢å…³é”®è¯
   - `commentText` - è¯„è®ºè¾“å…¥å†…å®¹
   - `selectedCategory` - é€‰æ‹©çš„åˆ†ç±»
   - `sortField` - æ’åºå­—æ®µ
   - `sortOrder` - æ’åºæ–¹å‘

---

## åç»­å¯¹æ¥æ­¥éª¤

### 1. åˆ›å»ºAPIæœåŠ¡æ¨¡å—

å»ºè®®åœ¨é¡¹ç›®ä¸­åˆ›å»º `api` ç›®å½•ï¼ŒæŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†ï¼š

```
api/
â”œâ”€â”€ note.js      - ç¬”è®°ç›¸å…³æ¥å£
â”œâ”€â”€ shop.js      - å•†å®¶ç›¸å…³æ¥å£
â”œâ”€â”€ user.js      - ç”¨æˆ·ç›¸å…³æ¥å£
â”œâ”€â”€ message.js   - æ¶ˆæ¯ç›¸å…³æ¥å£
â””â”€â”€ request.js   - è¯·æ±‚å°è£…ï¼ˆaxios/uni.requestï¼‰
```

### 2. è¯·æ±‚å°è£…ç¤ºä¾‹

```javascript
// api/request.js
const BASE_URL = 'http://your-api-domain.com'

export const request = (options) => {
  return new Promise((resolve, reject) => {
    uni.request({
      url: BASE_URL + options.url,
      method: options.method || 'GET',
      data: options.data || {},
      header: {
        'Content-Type': 'application/json',
        'Authorization': uni.getStorageSync('token') || ''
      },
      success: (res) => {
        if (res.data.code === 200) {
          resolve(res.data.data)
        } else {
          uni.showToast({
            title: res.data.message || 'è¯·æ±‚å¤±è´¥',
            icon: 'none'
          })
          reject(res.data)
        }
      },
      fail: (err) => {
        uni.showToast({
          title: 'ç½‘ç»œè¯·æ±‚å¤±è´¥',
          icon: 'none'
        })
        reject(err)
      }
    })
  })
}
```

### 3. APIæ¥å£ç¤ºä¾‹

```javascript
// api/note.js
import { request } from './request'

// è·å–æ¨èç¬”è®°åˆ—è¡¨
export const getNoteList = () => {
  return request({
    url: '/api/notes/recommended',
    method: 'GET'
  })
}

// è·å–ç¬”è®°è¯¦æƒ…
export const getNoteDetail = (id) => {
  return request({
    url: `/api/notes/${id}`,
    method: 'GET'
  })
}

// è·å–ç¬”è®°è¯„è®º
export const getNoteComments = (id) => {
  return request({
    url: `/api/notes/${id}/comments`,
    method: 'GET'
  })
}
```

### 4. é¡µé¢ä¸­ä½¿ç”¨ç¤ºä¾‹

```javascript
// pages/index/index.vue
import { getNoteList } from '@/api/note'

onLoad(() => {
  fetchNoteList()
})

const fetchNoteList = async () => {
  try {
    const data = await getNoteList()
    noteList.value = data
  } catch (error) {
    console.error('è·å–ç¬”è®°åˆ—è¡¨å¤±è´¥:', error)
  }
}
```

---

## æ³¨æ„äº‹é¡¹

### âš ï¸ æ•°æ®åŠ è½½çŠ¶æ€

å»ºè®®åœ¨é¡µé¢ä¸­æ·»åŠ åŠ è½½çŠ¶æ€ç®¡ç†ï¼š

```javascript
const loading = ref(false)
const isEmpty = ref(false)

const fetchData = async () => {
  loading.value = true
  try {
    const data = await fetchSomeData()
    dataList.value = data
    isEmpty.value = data.length === 0
  } catch (error) {
    console.error('æ•°æ®åŠ è½½å¤±è´¥:', error)
  } finally {
    loading.value = false
  }
}
```

### âš ï¸ é”™è¯¯å¤„ç†

åœ¨æ¨¡æ¿ä¸­å¤„ç†ç©ºæ•°æ®çš„æ˜¾ç¤ºï¼š

```vue
<view v-if="loading" class="loading">åŠ è½½ä¸­...</view>
<view v-else-if="isEmpty" class="empty">æš‚æ— æ•°æ®</view>
<view v-else class="data-list">
  <!-- æ•°æ®åˆ—è¡¨ -->
</view>
```

### âš ï¸ åˆ†é¡µåŠ è½½

å¯¹äºåˆ—è¡¨é¡µé¢ï¼Œå»ºè®®å®ç°åˆ†é¡µæˆ–ä¸Šæ‹‰åŠ è½½æ›´å¤šï¼š

```javascript
const pageNum = ref(1)
const pageSize = ref(10)
const hasMore = ref(true)

const loadMore = async () => {
  if (!hasMore.value) return
  
  const data = await fetchList({
    pageNum: pageNum.value,
    pageSize: pageSize.value
  })
  
  dataList.value = [...dataList.value, ...data.list]
  hasMore.value = data.hasMore
  pageNum.value++
}
```

---

## å®Œæˆæƒ…å†µ

- âœ… **é¦–é¡µ** - ç¬”è®°åˆ—è¡¨å·²æ¸…ç©º
- âœ… **ç¬”è®°è¯¦æƒ…é¡µ** - ç¬”è®°æ•°æ®å’Œè¯„è®ºå·²æ¸…ç©º
- âœ… **æœç´¢é¡µ** - å•†å®¶åˆ—è¡¨å·²æ¸…ç©º
- âœ… **å•†å®¶è¯¦æƒ…é¡µ** - å•†å®¶ä¿¡æ¯ã€æ ‡ç­¾ã€è¯„ä»·å·²æ¸…ç©ºå¹¶æ”¹ä¸ºåŠ¨æ€ç»‘å®š
- âœ… **ä¸ªäººä¸»é¡µ** - ç”¨æˆ·ä¿¡æ¯å’Œç¬”è®°å·²æ¸…ç©ºå¹¶æ”¹ä¸ºåŠ¨æ€ç»‘å®š
- âœ… **æ¶ˆæ¯é¡µ** - èŠå¤©å’Œé€šçŸ¥åˆ—è¡¨å·²æ¸…ç©º

**æ‰€æœ‰å›ºå®šæ•°æ®å·²æ¸…ç†å®Œæ¯•ï¼Œé¡¹ç›®å·²å‡†å¤‡å¥½è¿›è¡Œåç«¯APIå¯¹æ¥ï¼** ğŸ‰
